<div class="row justify-content-center">
  <div class="col-10">
    <div class="card shadow-lg p-3 mb-5 bg-white  ">
      <div class="card-body mx-0">
        <img [src]="imgPath.value" alt="" class="card-img-top">
        <!-- form  -->
        <form class="form-horizontal mt-4" [formGroup]="form" (ngSubmit)="onSubmit()">

          <div class="row justify-content-center mb-2">
            <div class="col-md-12">
              <div class="form-group">
                <div class="input-group mb-1 mr-sm-n1">
                  <input type="text" name="name" class="form-control-lg w-100" id="name" placeholder="Recipe Name"
                    formControlName="name" autofocus>
                </div> 
              <span class="help-block text-danger mt-2"
               *ngIf="!this.form.value.name">&nbsp; Title required!
              </span>

              </div>
            </div>
          </div>
          <div class="row justify-content-center mb-2">
            <div class="col-md-12">
              <div class="form-group">
                <div class="input-group mb-1 mr-sm-n1">
                  <input type="text" name="image" class="form-control-lg w-100" id="image"
                    placeholder="Recipe Image URL" autofocus formControlName="imgUrl" #imgPath>
                </div>
                <span class="help-block text-danger mt-2"
               *ngIf="!this.form.value.imgUrl">&nbsp; Image URL required!
              </span>
              </div>
            </div>
          </div>

          <div class="row justify-content-center">
            <div class="col-md-12">
              <div class="form-group">
                <div class="input-group mb-1 mr-sm-1">
                  <textarea form="newform" name="description" class="form-control" id="description"
                    placeholder="Description" autofocus rows="4"
                    formControlName="description"></textarea>
                </div>
                <span class="help-block text-danger mt-2"
               *ngIf="!this.form.value.description">&nbsp; Description required!
              </span>
              </div>
            </div>
          </div>
          <!-- iterate ingredients -->
          <div class="row justify-content-center">
            <div class="col-sm-12">
              <ul class="list-group">
                <li class="list-group-item bg-light d-flex justify-content-between align-items-center text-capitalize"
                  *ngFor="let ingredient of ingredients;index as i"><span
                    class="badge badge-secondary badge-pill">{{ingredient.amount}} </span>
                  {{ingredient.name}}
                  <a (click)="removeIngredient(i)" 
                  class="badge badge-danger badge-pill text-white"
                  title="Remove"><i
                      class="fa fa-close"></i></a>
                </li>
              </ul>
            </div>
          </div>
          <br>
          <div class="row" *ngIf="ingredients.length < 1">
            <div class="col-sm-12 mb-2">
              <span class="help-block text-danger ">You must have at least one ingredient!</span>
            </div>
          </div>
          <!-- end iterate ingredients -->
          <div class="row justify-content-center">
            <div class="col-sm-12 ">
              <!-- add ingredient button -->
              <button class="btn btn-secondary btn-block my-2" 
              type="button" 
              (click)="addIngredient(ingredientName.value,ingredientAmount.value);
              ingredientName.value='';ingredientAmount.value=1;">Add ingredient</button>
            </div>
          </div>
          <div class="row">
            <div class="col-8">
              <div class="form-group has-danger w-100">
                <div class="input-group mb-1 mr-sm-1 ">
                  <input #ingredientName type="text" name="ingredient" class="form-control" id="ingredient"
                    placeholder="New ingredient">
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="form-group has-danger">
                <div class="input-group mb-1 mr-sm-0 ">
                  <input #ingredientAmount type="number" name="amount" class="form-control w-100" id="amount" value="1"
                    min="1">
                </div>
              </div>
            </div>
          </div>
          <hr>
          <div class="row">
            <div class="col-md-6">
              <!-- create recipe button -->
              <button class="btn btn-outline-secondary btn-block mt-3" type="submit">
                Update Recipe
              </button>
            </div>
            <div class="col-md-6">
              <!-- create recipe button -->
              <button 
              class="btn btn-outline-secondary btn-block mt-3" 
              type="button"
              (click)="leave()">
                Cancel
              </button>
            </div>

          </div>


        </form>
        <!-- form end -->
        <br>
      </div>

    </div>
  </div>
</div>